{
  "anonymous": false,
  "attributes": [

  ],
  "bridgedResources": [
    {
      "model": "Rooms",
      "name": "All Rooms",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${values('Location Id')}",
          "name": "Location Id"
        }
      ],
      "qualification": "All Rooms By Location",
      "status": "Active"
    },
    {
      "model": "Calendar Events",
      "name": "Calendar Events",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${values('Schedule Id')}",
          "name": "Test Schedule"
        }
      ],
      "qualification": "By Test Schedule Id",
      "status": "Active"
    },
    {
      "model": "Rooms",
      "name": "Locations",
      "order": [

      ],
      "parameters": [

      ],
      "qualification": "All Active Locations",
      "status": "Active"
    },
    {
      "model": "Opportunities",
      "name": "Opportunity Status",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${values('Opportunity Id')}",
          "name": "Opportunity Id"
        }
      ],
      "qualification": "Status By Opportunity",
      "status": "Active"
    },
    {
      "model": "Schedules",
      "name": "Related Schedules",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${values('Opportunity Id')}",
          "name": "Opportunity Id"
        }
      ],
      "qualification": "By Opportunity",
      "status": "Active"
    },
    {
      "model": "Rooms",
      "name": "Rooms",
      "order": [

      ],
      "parameters": [
        {
          "mapping": "${values('Location Id')}",
          "name": "Location Id"
        }
      ],
      "qualification": "All Active Rooms By Location",
      "status": "Active"
    }
  ],
  "categorizations": [

  ],
  "customHeadContent": "<style>\n.vertical-checkbox > label:not(.field-label){\n  float: left;\n  overflow: hidden;\n  text-overflow: ellipis;\n  white-space: nowrap;\n}\n@media (max-width: 768px){\n  .vertical-checkbox > label:not(.field-label){\n    width: 100%;\n  }\n}\n@media (min-width: 768px){\n  .vertical-checkbox > label:not(.field-label){\n    width: 45%;\n  }\n}\n</style>",
  "description": "",
  "indexDefinitions": [
    {
      "name": "closedBy",
      "parts": [
        "closedBy"
      ],
      "unique": false
    },
    {
      "name": "createdBy",
      "parts": [
        "createdBy"
      ],
      "unique": false
    },
    {
      "name": "handle",
      "parts": [
        "handle"
      ],
      "unique": false
    },
    {
      "name": "submittedBy",
      "parts": [
        "submittedBy"
      ],
      "unique": false
    },
    {
      "name": "updatedBy",
      "parts": [
        "updatedBy"
      ],
      "unique": false
    },
    {
      "name": "values[Client On-Site]",
      "parts": [
        "values[Client On-Site]"
      ],
      "unique": false
    },
    {
      "name": "values[Comments]",
      "parts": [
        "values[Comments]"
      ],
      "unique": false
    },
    {
      "name": "values[Customer]",
      "parts": [
        "values[Customer]"
      ],
      "unique": false
    },
    {
      "name": "values[Date Bucket]",
      "parts": [
        "values[Date Bucket]"
      ],
      "unique": false
    },
    {
      "name": "values[Date Bucket],values[Schedule Status]",
      "parts": [
        "values[Date Bucket]",
        "values[Schedule Status]"
      ],
      "unique": false
    },
    {
      "name": "values[End Date]",
      "parts": [
        "values[End Date]"
      ],
      "unique": false
    },
    {
      "name": "values[End Time]",
      "parts": [
        "values[End Time]"
      ],
      "unique": false
    },
    {
      "name": "values[Equipment]",
      "parts": [
        "values[Equipment]"
      ],
      "unique": false
    },
    {
      "name": "values[Incentive Amount]",
      "parts": [
        "values[Incentive Amount]"
      ],
      "unique": false
    },
    {
      "name": "values[Job Number]",
      "parts": [
        "values[Job Number]"
      ],
      "unique": false
    },
    {
      "name": "values[Kids Only]",
      "parts": [
        "values[Kids Only]"
      ],
      "unique": false
    },
    {
      "name": "values[Location Id]",
      "parts": [
        "values[Location Id]"
      ],
      "unique": false
    },
    {
      "name": "values[Location Id],values[Date Bucket]",
      "parts": [
        "values[Location Id]",
        "values[Date Bucket]"
      ],
      "unique": false
    },
    {
      "name": "values[Location Id],values[Date Bucket],values[Schedule Status]",
      "parts": [
        "values[Location Id]",
        "values[Date Bucket]",
        "values[Schedule Status]"
      ],
      "unique": false
    },
    {
      "name": "values[Location String]",
      "parts": [
        "values[Location String]"
      ],
      "unique": false
    },
    {
      "name": "values[Methodology]",
      "parts": [
        "values[Methodology]"
      ],
      "unique": false
    },
    {
      "name": "values[N per Facility]",
      "parts": [
        "values[N per Facility]"
      ],
      "unique": false
    },
    {
      "name": "values[Number of Visits]",
      "parts": [
        "values[Number of Visits]"
      ],
      "unique": false
    },
    {
      "name": "values[Opportunity Id]",
      "parts": [
        "values[Opportunity Id]"
      ],
      "unique": false
    },
    {
      "name": "values[Opportunity Id],values[Schedule Status]",
      "parts": [
        "values[Opportunity Id]",
        "values[Schedule Status]"
      ],
      "unique": false
    },
    {
      "name": "values[Opportunity Name]",
      "parts": [
        "values[Opportunity Name]"
      ],
      "unique": false
    },
    {
      "name": "values[Opportunity Number]",
      "parts": [
        "values[Opportunity Number]"
      ],
      "unique": false
    },
    {
      "name": "values[Opportunity URL]",
      "parts": [
        "values[Opportunity URL]"
      ],
      "unique": false
    },
    {
      "name": "values[Pairs]",
      "parts": [
        "values[Pairs]"
      ],
      "unique": false
    },
    {
      "name": "values[Parent - Child]",
      "parts": [
        "values[Parent - Child]"
      ],
      "unique": false
    },
    {
      "name": "values[Proctor]",
      "parts": [
        "values[Proctor]"
      ],
      "unique": false
    },
    {
      "name": "values[Project Manager]",
      "parts": [
        "values[Project Manager]"
      ],
      "unique": false
    },
    {
      "name": "values[Project URL]",
      "parts": [
        "values[Project URL]"
      ],
      "unique": false
    },
    {
      "name": "values[Project]",
      "parts": [
        "values[Project]"
      ],
      "unique": false
    },
    {
      "name": "values[Recruit Manager]",
      "parts": [
        "values[Recruit Manager]"
      ],
      "unique": false
    },
    {
      "name": "values[Recurring]",
      "parts": [
        "values[Recurring]"
      ],
      "unique": false
    },
    {
      "name": "values[Research Director]",
      "parts": [
        "values[Research Director]"
      ],
      "unique": false
    },
    {
      "name": "values[Room Id]",
      "parts": [
        "values[Room Id]"
      ],
      "unique": false
    },
    {
      "name": "values[Room Id],values[Date Bucket]",
      "parts": [
        "values[Room Id]",
        "values[Date Bucket]"
      ],
      "unique": false
    },
    {
      "name": "values[Sales Rep]",
      "parts": [
        "values[Sales Rep]"
      ],
      "unique": false
    },
    {
      "name": "values[Schedule Create Date]",
      "parts": [
        "values[Schedule Create Date]"
      ],
      "unique": false
    },
    {
      "name": "values[Schedule Id]",
      "parts": [
        "values[Schedule Id]"
      ],
      "unique": false
    },
    {
      "name": "values[Schedule Status]",
      "parts": [
        "values[Schedule Status]"
      ],
      "unique": false
    },
    {
      "name": "values[Session Length]",
      "parts": [
        "values[Session Length]"
      ],
      "unique": false
    },
    {
      "name": "values[Session Times]",
      "parts": [
        "values[Session Times]"
      ],
      "unique": false
    },
    {
      "name": "values[Start Date]",
      "parts": [
        "values[Start Date]"
      ],
      "unique": false
    },
    {
      "name": "values[Start Time]",
      "parts": [
        "values[Start Time]"
      ],
      "unique": false
    },
    {
      "name": "values[Status]",
      "parts": [
        "values[Status]"
      ],
      "unique": false
    },
    {
      "name": "values[Status],values[Date Bucket]",
      "parts": [
        "values[Status]",
        "values[Date Bucket]"
      ],
      "unique": false
    },
    {
      "name": "values[Status],values[Schedule Status]",
      "parts": [
        "values[Status]",
        "values[Schedule Status]"
      ],
      "unique": false
    }
  ],
  "name": "Schedules",
  "notes": null,
  "pages": [
    {
      "advanceCondition": null,
      "displayCondition": null,
      "displayPage": null,
      "elements": [
        {
          "type": "section",
          "renderType": null,
          "name": "First Row",
          "title": null,
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {
            "class": "row"
          },
          "elements": [
            {
              "type": "section",
              "renderType": null,
              "name": "Left Column - First Row",
              "title": "Opportunity Information",
              "visible": true,
              "omitWhenHidden": null,
              "renderAttributes": {
                "class": "col-sm-6"
              },
              "elements": [
                {
                  "type": "field",
                  "name": "Opportunity Name",
                  "label": "Opportunity Name",
                  "key": "f54",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": false,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                },
                {
                  "type": "field",
                  "name": "Opportunity Number",
                  "label": "Opportunity Number",
                  "key": "f66",
                  "defaultValue": "",
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": false,
                  "required": false,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                },
                {
                  "type": "content",
                  "renderType": "html",
                  "name": "Opportunity URL - Display",
                  "text": "Opportunity URL<br>\n<a href=\"${values('Opportunity URL')}\" target=\"_blank\">${values('Opportunity URL')}</a>",
                  "visible": "values('Opportunity URL') != null  && values('Opportunity URL') != \"\" ",
                  "renderAttributes": {
                    "style": "margin-bottom:10px; font-size: .75rem; overflow-wrap: break-word;"
                  }
                },
                {
                  "type": "field",
                  "name": "Customer",
                  "label": "Customer",
                  "key": "f16",
                  "defaultValue": "",
                  "defaultResourceName": null,
                  "visible": "values('Customer') != null  && values('Customer') != \"\"",
                  "enabled": false,
                  "required": false,
                  "requiredMessage": null,
                  "omitWhenHidden": false,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "text",
                  "rows": 1
                }
              ]
            },
            {
              "type": "section",
              "renderType": null,
              "name": "Right Column - First Row",
              "title": "Location Information",
              "visible": true,
              "omitWhenHidden": null,
              "renderAttributes": {
                "class": "col-sm-6"
              },
              "elements": [
                {
                  "type": "field",
                  "name": "Location Id",
                  "label": "Location",
                  "key": "f46",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                  },
                  "dataType": "string",
                  "renderType": "dropdown",
                  "choicesResourceName": "Locations",
                  "choicesRunIf": null,
                  "choices": {
                    "label": "${resources('Locations:Location Name')}",
                    "value": "${resources('Locations:Location Id')}"
                  }
                },
                {
                  "type": "field",
                  "name": "Room Id",
                  "label": "Room",
                  "key": "f52",
                  "defaultValue": null,
                  "defaultResourceName": null,
                  "visible": true,
                  "enabled": true,
                  "required": true,
                  "requiredMessage": null,
                  "omitWhenHidden": null,
                  "pattern": null,
                  "constraints": [

                  ],
                  "events": [

                  ],
                  "renderAttributes": {
                    "class": "vertical-checkbox"
                  },
                  "dataType": "json",
                  "renderType": "checkbox",
                  "choicesResourceName": "Rooms",
                  "choicesRunIf": null,
                  "choices": {
                    "label": "${resources('Rooms:Room Name')}",
                    "value": "${resources('Rooms:Room Id')}"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Calendar Event Row",
          "title": "Rooms",
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "section",
              "renderType": null,
              "name": "Calendar Event Section",
              "title": "",
              "visible": true,
              "omitWhenHidden": null,
              "renderAttributes": {
                "class": "col-sm-12"
              },
              "elements": [
                {
                  "type": "content",
                  "renderType": "html",
                  "name": "Calendar Events Table Container",
                  "text": null,
                  "visible": true,
                  "renderAttributes": {
                    "style": "margin-bottom: 1rem;"
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Second Row",
          "title": "Schedule Details",
          "visible": true,
          "omitWhenHidden": null,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "section",
              "renderType": null,
              "name": "Schedule Details",
              "title": "",
              "visible": true,
              "omitWhenHidden": null,
              "renderAttributes": {
                "class": "row"
              },
              "elements": [
                {
                  "type": "section",
                  "renderType": null,
                  "name": "Left Column - Second Row",
                  "title": "",
                  "visible": true,
                  "omitWhenHidden": null,
                  "renderAttributes": {
                    "class": "col-sm-6"
                  },
                  "elements": [
                    {
                      "type": "field",
                      "name": "Project",
                      "label": "Project",
                      "key": "f35",
                      "defaultValue": null,
                      "defaultResourceName": null,
                      "visible": true,
                      "enabled": true,
                      "required": false,
                      "requiredMessage": null,
                      "omitWhenHidden": null,
                      "pattern": null,
                      "constraints": [

                      ],
                      "events": [

                      ],
                      "renderAttributes": {
                      },
                      "dataType": "string",
                      "renderType": "text",
                      "rows": 1
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Start Date and Time",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "Start Date",
                          "label": "Start Date",
                          "key": "f57",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": true,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "date"
                        },
                        {
                          "type": "field",
                          "name": "Start Time",
                          "label": "Start Time",
                          "key": "f58",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": true,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "time"
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "End Date and Time",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "End Date",
                          "label": "End Date",
                          "key": "f59",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": true,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "date"
                        },
                        {
                          "type": "field",
                          "name": "End Time",
                          "label": "End Time",
                          "key": "f60",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": true,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "time"
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "People 1",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "Sales Rep",
                          "label": "Sales Rep",
                          "key": "f21",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": false,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        },
                        {
                          "type": "field",
                          "name": "Project Manager",
                          "label": "Project Manager",
                          "key": "f33",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": "form('review') == true",
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "People 2",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "Research Director",
                          "label": "Research Director",
                          "key": "f71",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": "form('review') == true",
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        },
                        {
                          "type": "field",
                          "name": "Recruit Manager",
                          "label": "Recruit Manager",
                          "key": "f36",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": "form('review') == true",
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        }
                      ]
                    },
                    {
                      "type": "content",
                      "renderType": "html",
                      "name": "Project URL - Display",
                      "text": "Project URL<br>\n<a href=\"${values('Project URL')}\" target=\"_blank\">${values('Project URL')}</a>",
                      "visible": true,
                      "renderAttributes": {
                        "style": "margin-bottom:10px; font-size: .75rem; overflow-wrap: break-word;"
                      }
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Checkbox Group 1",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "section",
                          "renderType": null,
                          "name": "Proctor Wrapper",
                          "title": null,
                          "visible": true,
                          "omitWhenHidden": null,
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "elements": [
                            {
                              "type": "field",
                              "name": "Proctor",
                              "label": "",
                              "key": "f62",
                              "defaultValue": null,
                              "defaultResourceName": null,
                              "visible": true,
                              "enabled": true,
                              "required": false,
                              "requiredMessage": null,
                              "omitWhenHidden": null,
                              "pattern": null,
                              "constraints": [

                              ],
                              "events": [

                              ],
                              "renderAttributes": {
                              },
                              "dataType": "json",
                              "renderType": "checkbox",
                              "choicesResourceName": null,
                              "choicesRunIf": null,
                              "choices": [
                                {
                                  "label": "Proctor",
                                  "value": "Yes"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "section",
                          "renderType": null,
                          "name": "Parent - Child Wrapper",
                          "title": null,
                          "visible": true,
                          "omitWhenHidden": null,
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "elements": [
                            {
                              "type": "field",
                              "name": "Parent - Child",
                              "label": "",
                              "key": "f67",
                              "defaultValue": null,
                              "defaultResourceName": null,
                              "visible": true,
                              "enabled": true,
                              "required": false,
                              "requiredMessage": null,
                              "omitWhenHidden": null,
                              "pattern": null,
                              "constraints": [

                              ],
                              "events": [

                              ],
                              "renderAttributes": {
                              },
                              "dataType": "json",
                              "renderType": "checkbox",
                              "choicesResourceName": null,
                              "choicesRunIf": null,
                              "choices": [
                                {
                                  "label": "Parent - Child",
                                  "value": "Yes"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Checkbox Group 2",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "section",
                          "renderType": null,
                          "name": "Client On-Site Wrapper",
                          "title": null,
                          "visible": true,
                          "omitWhenHidden": null,
                          "renderAttributes": {
                            "class": "col-sm-6"
                          },
                          "elements": [
                            {
                              "type": "field",
                              "name": "Client On-Site",
                              "label": "",
                              "key": "f47",
                              "defaultValue": null,
                              "defaultResourceName": null,
                              "visible": true,
                              "enabled": true,
                              "required": false,
                              "requiredMessage": null,
                              "omitWhenHidden": null,
                              "pattern": null,
                              "constraints": [

                              ],
                              "events": [

                              ],
                              "renderAttributes": {
                              },
                              "dataType": "json",
                              "renderType": "checkbox",
                              "choicesResourceName": null,
                              "choicesRunIf": null,
                              "choices": [
                                {
                                  "label": "Client On-Site",
                                  "value": "true"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Checkbox Group 3",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "section",
                          "renderType": null,
                          "name": "Pairs Wrapper",
                          "title": null,
                          "visible": true,
                          "omitWhenHidden": null,
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "elements": [
                            {
                              "type": "field",
                              "name": "Pairs",
                              "label": "",
                              "key": "f64",
                              "defaultValue": null,
                              "defaultResourceName": null,
                              "visible": true,
                              "enabled": false,
                              "required": false,
                              "requiredMessage": null,
                              "omitWhenHidden": null,
                              "pattern": null,
                              "constraints": [

                              ],
                              "events": [

                              ],
                              "renderAttributes": {
                              },
                              "dataType": "json",
                              "renderType": "checkbox",
                              "choicesResourceName": null,
                              "choicesRunIf": null,
                              "choices": [
                                {
                                  "label": "Pairs",
                                  "value": "Yes"
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "section",
                          "renderType": null,
                          "name": "Kids Only Wrapper",
                          "title": null,
                          "visible": true,
                          "omitWhenHidden": null,
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "elements": [
                            {
                              "type": "field",
                              "name": "Kids Only",
                              "label": "",
                              "key": "f65",
                              "defaultValue": null,
                              "defaultResourceName": null,
                              "visible": true,
                              "enabled": false,
                              "required": false,
                              "requiredMessage": null,
                              "omitWhenHidden": null,
                              "pattern": null,
                              "constraints": [

                              ],
                              "events": [

                              ],
                              "renderAttributes": {
                              },
                              "dataType": "json",
                              "renderType": "checkbox",
                              "choicesResourceName": null,
                              "choicesRunIf": null,
                              "choices": [
                                {
                                  "label": "Kids Only",
                                  "value": "Yes"
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "field",
                      "name": "Comments",
                      "label": "Comments",
                      "key": "f28",
                      "defaultValue": null,
                      "defaultResourceName": null,
                      "visible": true,
                      "enabled": true,
                      "required": false,
                      "requiredMessage": null,
                      "omitWhenHidden": null,
                      "pattern": null,
                      "constraints": [

                      ],
                      "events": [

                      ],
                      "renderAttributes": {
                      },
                      "dataType": "string",
                      "renderType": "text",
                      "rows": 2
                    }
                  ]
                },
                {
                  "type": "section",
                  "renderType": null,
                  "name": "Right Column - Second Row",
                  "title": null,
                  "visible": true,
                  "omitWhenHidden": null,
                  "renderAttributes": {
                    "class": "col-sm-6"
                  },
                  "elements": [
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Group 1",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "Methodology",
                          "label": "Methodology",
                          "key": "f22",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": false,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        },
                        {
                          "type": "field",
                          "name": "N per Facility",
                          "label": "N per Facility",
                          "key": "f24",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": {
                            "regex": "^(0|[1-9][0-9]{0,2}(?:(,[0-9]{3})*|[0-9]*))$",
                            "message": "Number, commas optional"
                          },
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Group 2",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "Number of Visits",
                          "label": "Number of Visits",
                          "key": "f20",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": {
                            "regex": "^(0|[1-9][0-9]{0,2}(?:(,[0-9]{3})*|[0-9]*))$",
                            "message": "Number, commas optional"
                          },
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        },
                        {
                          "type": "field",
                          "name": "Incentive Amount",
                          "label": "Incentive Amount",
                          "key": "f30",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": {
                            "regex": "^(0|[1-9][0-9]{0,2}(?:(,[0-9]{3})*|[0-9]*))(\\.[0-9]{1,2}){0,1}$",
                            "message": "Number with 2 decimal places, commas optional"
                          },
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        }
                      ]
                    },
                    {
                      "type": "section",
                      "renderType": null,
                      "name": "Group 3",
                      "title": null,
                      "visible": true,
                      "omitWhenHidden": null,
                      "renderAttributes": {
                        "class": "row"
                      },
                      "elements": [
                        {
                          "type": "field",
                          "name": "Session Length",
                          "label": "Session Length",
                          "key": "f23",
                          "defaultValue": null,
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": false,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "text",
                          "rows": 1
                        },
                        {
                          "type": "field",
                          "name": "Schedule Create Date",
                          "label": "Date Created",
                          "key": "f7",
                          "defaultValue": "",
                          "defaultResourceName": null,
                          "visible": true,
                          "enabled": true,
                          "required": false,
                          "requiredMessage": null,
                          "omitWhenHidden": null,
                          "pattern": null,
                          "constraints": [

                          ],
                          "events": [

                          ],
                          "renderAttributes": {
                            "class": "col-sm"
                          },
                          "dataType": "string",
                          "renderType": "date"
                        }
                      ]
                    },
                    {
                      "type": "field",
                      "name": "Session Times",
                      "label": "Session Times",
                      "key": "f29",
                      "defaultValue": null,
                      "defaultResourceName": null,
                      "visible": true,
                      "enabled": true,
                      "required": false,
                      "requiredMessage": null,
                      "omitWhenHidden": null,
                      "pattern": null,
                      "constraints": [

                      ],
                      "events": [

                      ],
                      "renderAttributes": {
                      },
                      "dataType": "string",
                      "renderType": "text",
                      "rows": 9
                    },
                    {
                      "type": "field",
                      "name": "Equipment",
                      "label": "Equipment / Other Special Requirements",
                      "key": "f61",
                      "defaultValue": null,
                      "defaultResourceName": null,
                      "visible": true,
                      "enabled": true,
                      "required": false,
                      "requiredMessage": null,
                      "omitWhenHidden": null,
                      "pattern": null,
                      "constraints": [

                      ],
                      "events": [

                      ],
                      "renderAttributes": {
                      },
                      "dataType": "string",
                      "renderType": "text",
                      "rows": 2
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Other Schedules",
          "title": "Other Schedules",
          "visible": "!!values('Schedule Id')",
          "omitWhenHidden": false,
          "renderAttributes": {
            "style": "margin-bottom:25px;"
          },
          "elements": [
            {
              "type": "content",
              "renderType": "html",
              "name": "Related Schedules Table Container",
              "text": "",
              "visible": true,
              "renderAttributes": {
              }
            }
          ]
        },
        {
          "type": "section",
          "renderType": null,
          "name": "Hidden Fields",
          "title": "Hidden Fields",
          "visible": false,
          "omitWhenHidden": false,
          "renderAttributes": {
          },
          "elements": [
            {
              "type": "field",
              "name": "Opportunity Id",
              "label": "Opportunity",
              "key": "f42",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": "values('Schedule Id')==null",
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [
                {
                  "name": "Populate Related Schedules Table",
                  "type": "Change",
                  "action": "Custom",
                  "bridgedResourceName": null,
                  "code": "// Get all Locations\nK('bridgedResource[Locations]').load({\n\tsuccess: function(locationBridgedData) {\n    // Get Schedules with the same Opportunity\n    K('bridgedResource[Related Schedules]').load({\n      locations: locationBridgedData,\n      values: {'Opportunity Id' : K('field[Opportunity Id]').value()},\n      success: function(opportunityBridgedData) {\n        var locations = this.locations\n        // Remove the current record from the result set\n        if (K('field[Schedule Id]').value() != null){\n        opportunityBridgedData = opportunityBridgedData.filter(function(el) {\n            return el['Schedule Id'] != K('field[Schedule Id]').value();\n          });\n        };\n        // Iterate through each opportunity to add Location Name\n        opportunityBridgedData.forEach(function(opportunity,index){\n          location_name = locations.find(function(location) { return location['Location Id'] == opportunity['Location Id']})['Location Name']\n          opportunityBridgedData[index]['Location Name'] = location_name \n        })\n        // Add results to data for the Table\n        searchConfig.relatedSchedulesTableConfig.response = opportunityBridgedData;\n        // Build the table\n        DataViewer.renderResults( $(K('content[Related Schedules Table Container]').element()), searchConfig.relatedSchedulesTableConfig );\n      }\n    })\n\t}\n});",
                  "runIf": ""
                },
                {
                  "name": "Set Opportunity URL",
                  "type": "Change",
                  "action": "Set Fields",
                  "mappings": [
                    {
                      "field": "Opportunity URL",
                      "value": "https://819287-sb1.app.netsuite.com/app/accounting/transactions/opprtnty.nl?id=${values('Opportunity Id')}",
                      "visible": null
                    }
                  ],
                  "runIf": "form('review')!=true"
                },
                {
                  "name": "Set Info from Opportunity",
                  "type": "Change",
                  "action": "Custom",
                  "code": "K('field[Opportunity Number]').value(resource['Opportunity Number']);\nK('field[Opportunity Name]').value(resource['Opportunity Name']);\nK('field[Customer]').value(resource['Customer']);\nK('field[Sales Rep]').value(resource['Sales Rep']);\nK('field[Project Manager]').value(resource['Project Manager']);\nK('field[Research Director]').value(resource['Research Director']);\nK('field[Sales Rep]').value(resource['Sales Rep']);\n\n//Job number is not populated in the script form NetSuite. It also appears that it is needed on the Schedule record because it is displayed in the title\n//K('field[Job Number]').value(resource['Job Number']);\n\nconst values = [\"closed\",\"won\"]\nif (resource && !values.every(substring=>resource[\"Opportunity Status\"].toLowerCase().includes(substring)) ){\n  K('field[Schedule Status]').value(\"HOLD\")\n} else if (resource) {\n  K('field[Schedule Status]').value(\"BOOK\")\n};",
                  "bridgedResourceName": "Opportunity Status"
                }
              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "dropdown",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [

              ]
            },
            {
              "type": "field",
              "name": "Opportunity URL",
              "label": "Opportunity URL",
              "key": "f53",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": false,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Schedule Id",
              "label": "Schedule Id",
              "key": "f6",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Job Number",
              "label": "Job Number",
              "key": "f63",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Schedule Status",
              "label": "Schedule Status",
              "key": "f3",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": false,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "dropdown",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "BOOK",
                  "value": "BOOK"
                },
                {
                  "label": "HOLD",
                  "value": "HOLD"
                }
              ]
            },
            {
              "type": "field",
              "name": "Project URL",
              "label": "Project URL",
              "key": "f34",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": "values('Project URL') != null  && values('Project URL') != \"\"",
              "enabled": false,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": false,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
                "style": "margin-bottom:10px; font-size: .75rem; overflow-wrap: break-word;"
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Status",
              "label": "Status",
              "key": "f5",
              "defaultValue": "Active",
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": true,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "dropdown",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "Active",
                  "value": "Active"
                },
                {
                  "label": "Inactive",
                  "value": "Inactive"
                }
              ]
            },
            {
              "type": "field",
              "name": "Date Bucket",
              "label": "Date Bucket",
              "key": "f12",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
                "data-end-field": "End Date",
                "data-start-field": "Start Date"
              },
              "dataType": "json",
              "renderType": "checkbox",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [

              ]
            },
            {
              "type": "field",
              "name": "Location String",
              "label": "Location String",
              "key": "f70",
              "defaultValue": null,
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "text",
              "rows": 1
            },
            {
              "type": "field",
              "name": "Recurring",
              "label": "Recurring",
              "key": "f69",
              "defaultValue": "daily",
              "defaultResourceName": null,
              "visible": true,
              "enabled": true,
              "required": false,
              "requiredMessage": null,
              "omitWhenHidden": null,
              "pattern": null,
              "constraints": [

              ],
              "events": [

              ],
              "renderAttributes": {
              },
              "dataType": "string",
              "renderType": "radio",
              "choicesResourceName": null,
              "choicesRunIf": null,
              "choices": [
                {
                  "label": "not recurring",
                  "value": "not recurring"
                },
                {
                  "label": "daily",
                  "value": "daily"
                }
              ]
            }
          ]
        },
        {
          "visible": true,
          "renderAttributes": {
          },
          "name": "Submit Button",
          "label": "Submit",
          "type": "button",
          "renderType": "submit-page",
          "enabled": true
        }
      ],
      "events": [
        {
          "name": "Populate Date Bucket",
          "type": "Submit",
          "action": "Custom",
          "code": "/**\n * Generates the buckets for each day, month, and year between\n * the start and end times.\n */\nvar generateBuckets = function(startTime, endTime) {\n  var buckets = [];\n\n  // Get the start and end dates\n  var start = moment.utc(startTime);\n  var end = moment.utc(endTime);\n\n  // Patterns\n  var yearPattern = \"YYYY\";\n  var monthPattern = \"YYYY-MM\";\n  var dayPattern = \"YYYY-MM-DD\";\n  //var hourPattern = \"YYYY-MM-DD-HH\";\n\n  // Get the start month and year buckets\n  var lastBucketDay = start.format(dayPattern);\n  var lastBucketMonth = start.format(monthPattern);\n  var lastBucketYear = start.format(yearPattern);\n\n  // Add the start buckets\n  //buckets.push(start.format(hourPattern));\n  buckets.push(lastBucketDay);\n  buckets.push(lastBucketMonth);\n  buckets.push(lastBucketYear);\n  // Add the end buckets\n  /*if (start.isBefore(end, 'hour')) {\n    buckets.push(end.format(hourPattern));\n  }*/\n  if (start.isBefore(end, 'day')) {\n    buckets.push(end.format(dayPattern));\n  }\n  if (start.isBefore(end, 'month')) {\n    buckets.push(end.format(monthPattern));\n  }\n  if (start.isBefore(end, 'year')) {\n    buckets.push(end.format(yearPattern));\n  }\n\n  // Add each day bucket in between the start and end\n  // while (start.add(1, 'hour').isBefore(end, 'hour')) { \n  while (start.add(1, 'hour').isBefore(end, 'hour')) {\n    //buckets.push(start.format(hourPattern));\n    // Add each new day bucket\n    if (start.isBefore(moment.utc(end), 'day') && start.isAfter(moment.utc(lastBucketDay), 'day')) {\n        lastBucketDay = start.format(dayPattern);\n        buckets.push(lastBucketDay);\n    }\n    // Add each new month bucket\n    if (start.isBefore(moment.utc(end), 'month') && start.isAfter(moment.utc(lastBucketMonth), 'month')) {\n        lastBucketMonth = start.format(monthPattern);\n        buckets.push(lastBucketMonth);\n    }\n    // Add each new year bucket\n    if (start.isBefore(moment.utc(end), 'year') && start.isAfter(moment.utc(lastBucketYear), 'year')) {\n        lastBucketYear = start.format(yearPattern);\n        buckets.push(lastBucketYear);\n    }\n  }\n\n  // Return buckets, sorting and removing and duplicates\n  buckets = _.sortBy(buckets, _.identity);\n  return _.uniq(buckets, true);\n};\n\n/**\n * Generates the checkbox options based on the buckets\n */\nvar generateOptions = function(buckets) {\n  var options = [];\n  _.each(buckets, function(bucket) {\n    options.push({\"label\": bucket, \"value\": bucket});\n  });\n  return options;\n};\n\n$.each($('div[data-start-field]'), function() {\n  var bField = $(this).attr('data-element-name'),\n      startDateField = $(this).attr('data-start-field'),\n      endDateField = $(this).attr('data-end-field');\n\n  var bucketField = K('field[' + bField + ']');\n  var buckets = generateBuckets(values(startDateField), values(endDateField));\n  bucketField.options(generateOptions(buckets));\n  bucketField.value(buckets);\n})\n\n"
        },
        {
          "name": "Submit Actions",
          "type": "Submit",
          "action": "Custom",
          "code": "//Set Schedule Create Date if null\nif (K('field[Schedule Create Date]').value()==null){\n  K('field[Schedule Create Date]').value(moment().format('YYYY-MM-DD'))\n};\n\n// Check for schedule conflicts before submitting\naction.stop();\n// map date bucket and room id's for query\nconst dateBucket = K('field[Date Bucket]').value().filter(db => db.length === 10)\nconst dateBucketMap = \"(\" + dateBucket.map(db => '\"' + db + '\"') + \")\";\nconst roomIdMap = \"(\" + K('field[Room Id]').value().map(rid => '\"' + rid + '\"') + \")\";\n// API call to get matching submissions\n$.ajax({\n  method: 'get',\n  url: bundle.apiLocation() + '/kapps/calendar/forms/schedules/submissions/',\n  data: {\n    direction: 'DESC',\n    limit: 1000,\n    q: `values[Date Bucket] IN ${dateBucketMap} AND values[Room Id] IN ${roomIdMap}`,\n    include: 'values[Room Id],values[Schedule Status],values[Start Date],values[End Date],values[Start Time],values[End Time]'\n  },\n  success: function ({ submissions }) {\n    // parse start and end of current submission\n    const start = moment(K('field[Start Date]').value() + \" \" + K('field[Start Time]').value());\n    const end = moment(K('field[End Date]').value() + \" \" + K('field[End Time]').value());\n    let conflict = false;\n    // parse each submission from query to check for conflicts\n    // start OR end between subStart and subEnd triggers conflict to be true\n    submissions.map(s => {\n      const subStart = moment(s.values['Start Date'] + \" \" + s.values['Start Time']);\n      const subEnd = moment(s.values['End Date'] + \" \" + s.values['End Time']);\n      if (start.isBetween(subStart, subEnd)) { conflict = true }\n      if (end.isBetween(subStart, subEnd)) { conflict = true }\n    });\n    \n    if (conflict) {\n    \talert('There is a conflict with at least one other scheduled event.');\n    } else {\n    \taction.continue();\n    }\n  },\n  error: function () {\n    console.log('Error: Check for schedule conflicts failed.');\n  }\n});\n\n// \"2022-02-11\",\"2022-02-10\",\"2022-02-09\"\n// \"71c48576-8af0-4fdb-ade3-23701226fc71\", \"c035d42e-c1db-490d-88c1-9816ed799130\""
        },
        {
          "name": "Load Related Schedules Table",
          "type": "Load",
          "action": "Custom",
          "code": "searchConfig = typeof searchConfig===\"object\"? searchConfig : {};\nsearchConfig ={\n  // Example of full configuration of a search object to return results as a DataTable\n  relatedSchedulesTableConfig:{\n\tresultsContainer: '<table cellspacing=\"0\", border=\"0\", class=\"display\", style=\"width: 100%;\">',\n\tdata: [\n\t  { \n\t\ttitle: \"Location\",\n\t\tname: \"Location Id\",\n\t\tvisible: false\n\t  },\n\t  { \n\t\ttitle: \"Location Name\",\n\t\tname: \"Location Name\"\n\t  },\n\t  {\n\t\ttitle: \"Status\",\n\t\tname: \"Schedule Status\"\n\t  },\n\t  {\n\t\ttitle: \"Start Date\",\n\t\tname: \"Start Date\",\n\t\trender: function(data){\n        return moment(data).format('l');\n      }\n\t  },\n\t  {\n\t\ttitle: \"End Date\",\n\t\tname: \"End Date\",\n\t\trender: function(data){\n        return moment(data).format('l');\n      }\n\t  },\n\t  {\n\t\ttitle: \"Start Time\",\n\t\tname: \"Start Time\",\n\t\trender: function(data){\n        return moment(data, 'HH:mm').format('LT');\n      }\n\t  },\n\t  {\n\t\ttitle: \"End Time\",\n\t\tname: \"End Time\",\n\t\trender: function(data){\n        return moment(data, 'HH:mm').format('LT');\n      }\n\t  },\n\t  {\n\t\ttitle: \"Schedule Id\",\n\t\tname: \"Schedule Id\",\n\t\tvisible: false\n\t  },\n\t  {\n\t\ttitle: \"Submission Id\",\n\t\tname: \"Submission Id\",\n\t\tvisible: false\n\t  },\n\t  {\n\t\ttitle: \"Job Number\",\n\t\tname: \"Job Number\",\n\t\tvisible: false\n\t  },\n    // All records are related to the same Opportunity. Does this need to be displayed in the table?    \n    /*{\n\t\ttitle: \"Title\",\n\t\tname: \"Opportunity Name\"\n\t  },*/\n\t  {\n        title: \"\",\n\t\tname: \"View Button\",\n        class: 'control btn-col text-center',\n\t\trender: function ( data, type, full, meta ) {\n\t\t\treturn \"<button style='width:50px' type='button' title='View' class='btn-view' value='View'>View</button>\";\n\t\t},\n      }\n\t],\n\tresultsContainerId: 'relatedSchedules',\n\tbefore: function(configObj){ \n\t},\n\tsuccess: function (configObj){\n\t},\n\tsuccessEmpty: function(configObj){\n\t  // Render the table even if the results are empty. (ie: on page load)\n\t  configObj.renderer.type(configObj.destination, configObj);\n\t},\n\terror: function(configObj){\n\t},\n\tcomplete: function(configObj){\n\t},\n\t// Executes on click of element with class of select\n\tclickCallback: function(element, results){\n\t},\n\tremoveOnClick: false,\n\trenderer: {\n\t\ttype: DataViewer.Renderers.DataTables, // Passing a function here allows for better customization\n\t\toptions: {\n\t\t  // Options for Renderer\n\t\t  processSingleResult: false,\n\t\t  // DataTable OPTIONS; Passing options here make it clear that they are being passed to data tables\n\t\t  // responsive: OPTIONAL Default for \"BridgeDataTable\" is true but can be over written.\n\t\t  responsive: false,\n\t\t  //autoWidth: false,\n\t\t  dom: 'Brt',\n\t\t  pageLength: 15,\n\t\t  paging: false\n\t\t},\n\t},       \n  },\n}\n\n// Set the response object to the values in the JSON filed which is storing the table values.\nsearchConfig.relatedSchedulesTableConfig.response = [];\n// Load the Table with the values.\nDataViewer.renderResults( $(K('content[Related Schedules Table Container]').element()), searchConfig.relatedSchedulesTableConfig );\n\t\nif (K('field[Opportunity Id]').value()!=null){\n\tK('field[Opportunity Id]').trigger('change');\n};\n\n$('body').on( \"click\", '#relatedSchedules .btn-view', function() {\n  var table = $(this).closest('table').DataTable();\n  var data = table.row($(this).parents('tr')).data();\n    console.log('data:', data);\n  bundle.config.replaceEvent({\n    id: data['Submission Id'],\n    title: {\n      status: data['Schedule Status'],\n      location: data['Location Name'],\n    \trooms: data['Room Id'],\n      opportunity: data['Opportunity Name'],\n  \t\tstartDate: data['Start Date'],\n      startTime: data['Start Time'],\n      endDate: data['End Date'],\n      endTime: data['End Time'],\n      jobNumber: data['Job Number']\n\t\t}, \n    start: data['Start Date-Time'],\n    end: data['End Date-Time'],\n    type: data['Schedule Status']\n  })\n});",
          "bridgedResourceName": null
        },
        {
          "name": "Set Room Display",
          "type": "Load",
          "action": "Custom",
          "code": "// Set the \"Room Display\" field in review Mode.  This field is used to display Rooms that are no longer active but once were\n\ninactive_rooms = resource.filter(function(room){return room['Status']==\"Inactive\"})\nmenu_options = K('field[Room Id]').options()\ninactive_rooms.forEach(function(room){\n    var index = menu_options.findIndex(function(option){return room['Room Id']==option['value']})\n    menu_options.splice(index, 1, {label: room['Room Name'], value: room['Room Id']});\n})\nK('field[Room Id]').options(menu_options)\nK('field[Room Id]').value(K('submission').value('Room Id'))\n",
          "runIf": "form('review') == true",
          "bridgedResourceName": "All Rooms"
        },
        {
          "name": "Load Calendar Events Table",
          "type": "Load",
          "action": "Custom",
          "code": "searchConfig = typeof searchConfig===\"object\"? searchConfig : {};\nsearchConfig ={\n  // Example of full configuration of a search object to return results as a DataTable\n  calendarEventsTableConfig:{\n\tresultsContainer: '<table cellspacing=\"0\", border=\"0\", class=\"display\", style=\"width: 100%;\">',\n\tdata: [\n\t  { \n\t\ttitle: \"Event\",\n\t\tname: \"Title\"\n\t  },\n\t  { \n\t\ttitle: \"Start Date\",\n\t\tname: \"Start Date\",\n    \"render\": function ( data, type, row, meta ) {\n      return moment(data).format('MM/DD/YYYY')\n    }  \n\t  },\n\t  { \n\t\ttitle: \"Start Time\",\n\t\tname: \"Start Time\",\n    \"render\": function ( data, type, row, meta ) {\n      return moment(data, \"HH:mm\").format(\"hh:mm A\");\n    }  \n\t  },\n\t  { \n\t\ttitle: \"End Time\",\n\t\tname: \"End Time\",\n    \"render\": function ( data, type, row, meta ) {\n      return moment(data, \"HH:mm\").format(\"hh:mm A\");\n    }  \n\t  },\n\t  { \n\t\ttitle: \"Location\",\n\t\tname: \"Location\"\n\t  }\n\t],\n\tresultsContainerId: 'eventSchedules',\n\tbefore: function(configObj){ \n\t},\n\tsuccess: function (configObj){\n\t},\n\tsuccessEmpty: function(configObj){\n\t  // Render the table even if the results are empty. (ie: on page load)\n\t  configObj.renderer.type(configObj.destination, configObj);\n\t},\n\terror: function(configObj){\n\t},\n\tcomplete: function(configObj){\n\t},\n\t// Executes on click of element with class of select\n\tclickCallback: function(element, results){\n\t},\n\tremoveOnClick: false,\n\trenderer: {\n\t\ttype: DataViewer.Renderers.DataTables, // Passing a function here allows for better customization\n\t\toptions: {\n\t\t  // Options for Renderer\n\t\t  processSingleResult: false,\n\t\t  // DataTable OPTIONS; Passing options here make it clear that they are being passed to data tables\n\t\t  // responsive: OPTIONAL Default for \"BridgeDataTable\" is true but can be over written.\n\t\t  responsive: false,\n\t\t  //autoWidth: false,\n\t\t  dom: 'Brt',\n\t\t  pageLength: 15,\n\t\t  paging: false\n\t\t},\n\t},       \n  },\n}\n\n// Set the response object to the values in the JSON filed which is storing the table values.\nsearchConfig.calendarEventsTableConfig.response = resource;\n// Load the Table with the values.\nDataViewer.renderResults( $(K('content[Calendar Events Table Container]').element()), searchConfig.calendarEventsTableConfig );\n\t\n\n",
          "bridgedResourceName": "Calendar Events"
        }
      ],
      "name": "Page 1",
      "renderType": "submittable",
      "type": "page"
    }
  ],
  "securityPolicies": [
    {
      "endpoint": "Display",
      "name": "Calendar Scheduler"
    },
    {
      "endpoint": "Submission Access",
      "name": "Authenticated Users"
    },
    {
      "endpoint": "Submission Modification",
      "name": "Calendar Scheduler"
    }
  ],
  "slug": "schedules",
  "status": "Active",
  "submissionLabelExpression": "",
  "type": "Datastore"
}